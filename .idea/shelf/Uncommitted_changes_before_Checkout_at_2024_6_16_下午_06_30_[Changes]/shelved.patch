Index: app/src/main/java/com/example/agentmoney/AccountActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.agentmoney;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.Bundle;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListView;\r\nimport android.widget.SimpleCursorAdapter;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n// date 和 money 能正常顯示，type就交給各位了\r\npublic class AccountActivity extends AppCompatActivity {\r\n\r\n    private static final String DATABASE_NAME = \"agent_money\";\r\n    private SQLiteDatabase productDatabase;\r\n    private static final String TABLE_NAME = \"account\";\r\n    private static final String CREATE_PRODUCT_TABLE_SQL = \"CREATE TABLE IF NOT EXISTS \" + TABLE_NAME + \"(_id INTEGER PRIMARY KEY, date TEXT, money INTEGER)\";\r\n\r\n    private EditText etDate;\r\n    private EditText etMoney;\r\n    private Button btnInput;\r\n    private Button btnClean;\r\n    private Spinner spType;\r\n    private ListView listv;\r\n    private String[] types = new String[] {\"請選擇項目類型\", \"飲食\", \"交通\", \"娛樂\", \"繳費\", \"收入\", \"其他\"};\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_account);\r\n\r\n        productDatabase = openOrCreateDatabase(DATABASE_NAME, MODE_PRIVATE, null);\r\n        productDatabase.execSQL(CREATE_PRODUCT_TABLE_SQL);\r\n\r\n        etDate = findViewById(R.id.et_date);\r\n        etMoney = findViewById(R.id.et_money);\r\n        btnInput = findViewById(R.id.btn_input);\r\n        spType = findViewById(R.id.sp_type);\r\n        listv = findViewById(R.id.list);\r\n        btnClean = findViewById(R.id.btn_clean);\r\n\r\n        listAllProducts();\r\n\r\n        View.OnClickListener listener = new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (v.getId() == R.id.btn_input) {\r\n                    String inputDate = etDate.getText().toString();\r\n                    String eachMoney = etMoney.getText().toString();\r\n                    String type = spType.getSelectedItem().toString();\r\n                    if (type.equals(types[0])) {\r\n                        Toast.makeText(AccountActivity.this, \"未選擇項目類型\", Toast.LENGTH_LONG).show();\r\n                    } else {\r\n\r\n                        String productName = etDate.getText().toString();\r\n                        int productPrice = Integer.parseInt(etMoney.getText().toString());\r\n\r\n                        String insertSql = \"INSERT INTO \" + TABLE_NAME + \"(date, money) VALUES ('\" + inputDate + \"',\" + eachMoney + \" )\";\r\n                        productDatabase.execSQL(insertSql);\r\n                    }\r\n                } else if (v.getId() == R.id.btn_clean) {      // 清除\r\n                    String deleteAllSql = \"DELETE FROM \" + TABLE_NAME;\r\n                    productDatabase.execSQL(deleteAllSql);\r\n                }\r\n                etMoney.setText(\"\");\r\n                spType.setSelection(0);\r\n                etDate.setText(\"\");\r\n                listAllProducts();\r\n            }\r\n        };\r\n\r\n        btnInput.setOnClickListener(listener);\r\n        btnClean.setOnClickListener(listener);\r\n\r\n        ArrayAdapter<String> spAdapter = new ArrayAdapter<>(\r\n                this, android.R.layout.simple_spinner_item, types);\r\n        spAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spType.setAdapter(spAdapter);\r\n\r\n\r\n    }\r\n    private void listAllProducts(){\r\n        Cursor cursor = productDatabase.query(TABLE_NAME, new String[] {\"_id\", \"date\", \"money\"},\r\n                null, null, null, null, null, null);\r\n\r\n        SimpleCursorAdapter scAdapter = new SimpleCursorAdapter(AccountActivity.this, android.R.layout.simple_list_item_2,\r\n                cursor, new String[]{\"date\", \"money\"}, new int[]{android.R.id.text1, android.R.id.text2}, 0);\r\n        listv.setAdapter(scAdapter);\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        productDatabase.close();\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/agentmoney/AccountActivity.java b/app/src/main/java/com/example/agentmoney/AccountActivity.java
--- a/app/src/main/java/com/example/agentmoney/AccountActivity.java	(revision ab1719b6ab9a12e329dd2eadcd529ac979621450)
+++ b/app/src/main/java/com/example/agentmoney/AccountActivity.java	(date 1718529875255)
@@ -67,8 +67,10 @@
 
                         String productName = etDate.getText().toString();
                         int productPrice = Integer.parseInt(etMoney.getText().toString());
+                        // 直接將類型附加在日期的後面
+                        inputDate = inputDate + "#" + type;
 
-                        String insertSql = "INSERT INTO " + TABLE_NAME + "(date, money) VALUES ('" + inputDate + "'," + eachMoney + " )";
+                        String insertSql = "INSERT INTO " + TABLE_NAME + "(date, money) VALUES ('" + inputDate + "'," + eachMoney + ")";
                         productDatabase.execSQL(insertSql);
                     }
                 } else if (v.getId() == R.id.btn_clean) {      // 清除
